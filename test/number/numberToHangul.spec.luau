local frktest = require("../../lune_packages/frktest")
local numberToHangul = require("../../src/number/numberToHangul")

local test = frktest.test
local check = frktest.assert.check

return function()
    test.suite("numberToHangul.numberToHangul", function()
        test.case("기본 변환", function()
            check.equal(numberToHangul.numberToHangul(210_000), "이십일만")
            check.equal(numberToHangul.numberToHangul(12_345), "일만이천삼백사십오")
            check.equal(numberToHangul.numberToHangul(123_456_780), "일억이천삼백사십오만육천칠백팔십")
            check.equal(numberToHangul.numberToHangul(100_000_000), "일억")
            check.equal(numberToHangul.numberToHangul(1_000_000_000_000), "일조")
        end)

        test.case("0 이상 10,000 미만인 경우", function()
            check.equal(numberToHangul.numberToHangul(0), "영")
            check.equal(numberToHangul.numberToHangul(1), "일")
            check.equal(numberToHangul.numberToHangul(2), "이")
            check.equal(numberToHangul.numberToHangul(3), "삼")
            check.equal(numberToHangul.numberToHangul(4), "사")
            check.equal(numberToHangul.numberToHangul(5), "오")
            check.equal(numberToHangul.numberToHangul(6), "육")
            check.equal(numberToHangul.numberToHangul(7), "칠")
            check.equal(numberToHangul.numberToHangul(8), "팔")
            check.equal(numberToHangul.numberToHangul(9), "구")
            check.equal(numberToHangul.numberToHangul(10), "십")
            check.equal(numberToHangul.numberToHangul(11), "십일")
            check.equal(numberToHangul.numberToHangul(20), "이십")
            check.equal(numberToHangul.numberToHangul(30), "삼십")
            check.equal(numberToHangul.numberToHangul(100), "백")
            check.equal(numberToHangul.numberToHangul(101), "백일")
            check.equal(numberToHangul.numberToHangul(110), "백십")
            check.equal(numberToHangul.numberToHangul(200), "이백")
            check.equal(numberToHangul.numberToHangul(300), "삼백")
            check.equal(numberToHangul.numberToHangul(1_000), "천")
            check.equal(numberToHangul.numberToHangul(1_001), "천일")
            check.equal(numberToHangul.numberToHangul(1_100), "천백")
            check.equal(numberToHangul.numberToHangul(1_200), "천이백")
            check.equal(numberToHangul.numberToHangul(1_234), "천이백삼십사")
            check.equal(numberToHangul.numberToHangul(9_999), "구천구백구십구")
        end)

        test.case("음수", function()
            check.equal(numberToHangul.numberToHangul(-210_000), "마이너스이십일만")
            check.equal(numberToHangul.numberToHangul(-12_345), "마이너스일만이천삼백사십오")
            check.equal(numberToHangul.numberToHangul(-123_456_780), "마이너스일억이천삼백사십오만육천칠백팔십")
            check.equal(numberToHangul.numberToHangulWithSpace(-210_000), "마이너스 이십일만")
            check.equal(numberToHangul.numberToHangulWithSpace(-12_345), "마이너스 일만 이천삼백사십오")
            check.equal(numberToHangul.numberToHangulWithSpace(-123_456_780), "마이너스 일억 이천삼백사십오만 육천칠백팔십")
        end)

        test.case("Infinity", function()
            check.equal(numberToHangul.numberToHangul(math.huge), "무한대")
            check.equal(numberToHangul.numberToHangul(-math.huge), "마이너스무한대")
            check.equal(numberToHangul.numberToHangulWithSpace(-math.huge), "마이너스 무한대")
        end)

        test.case("소수", function()
            check.equal(numberToHangul.numberToHangul(0.1), "영점일")
            check.equal(numberToHangul.numberToHangul(12_345.678), "일만이천삼백사십오점육칠팔")
            check.equal(numberToHangul.numberToHangul(-0.1), "마이너스영점일")
            check.equal(numberToHangul.numberToHangul(-12_345.678), "마이너스일만이천삼백사십오점육칠팔")
            check.equal(numberToHangul.numberToHangul(0.0102), "영점영일영이")
            check.equal(numberToHangul.numberToHangulWithSpace(0.1), "영점 일")
            check.equal(numberToHangul.numberToHangulWithSpace(12_345.678), "일만 이천삼백사십오점 육칠팔")
            check.equal(numberToHangul.numberToHangulWithSpace(-0.1), "마이너스 영점 일")
            check.equal(numberToHangul.numberToHangulWithSpace(-12_345.678), "마이너스 일만 이천삼백사십오점 육칠팔")
        end)

        test.case("유효하지 않은 입력에 대한 오류 처리", function()
            check.should_error(function()
                return numberToHangul.numberToHangul(0 / 0)
            end)

            check.should_error(function()
                return numberToHangul.numberToHangul(("123" :: any) :: number)
            end)
        end)
    end)

    test.suite("numberToHangul.numberToHangulWithSpace", function()
        test.case("기본 변환", function()
            check.equal(numberToHangul.numberToHangulWithSpace(210_000), "이십일만")
            check.equal(numberToHangul.numberToHangulWithSpace(12_345), "일만 이천삼백사십오")
            check.equal(numberToHangul.numberToHangulWithSpace(123_456_780), "일억 이천삼백사십오만 육천칠백팔십")
        end)

        test.case("음수", function()
            check.equal(numberToHangul.numberToHangulWithSpace(-210_000), "마이너스 이십일만")
            check.equal(numberToHangul.numberToHangulWithSpace(-12_345), "마이너스 일만 이천삼백사십오")
            check.equal(numberToHangul.numberToHangulWithSpace(-123_456_780), "마이너스 일억 이천삼백사십오만 육천칠백팔십")
        end)

        test.case("Infinity", function()
            check.equal(numberToHangul.numberToHangulWithSpace(-math.huge), "마이너스 무한대")
        end)

        test.case("소수", function()
            check.equal(numberToHangul.numberToHangulWithSpace(0.1), "영점 일")
            check.equal(numberToHangul.numberToHangulWithSpace(12_345.678), "일만 이천삼백사십오점 육칠팔")
            check.equal(numberToHangul.numberToHangulWithSpace(-0.1), "마이너스 영점 일")
            check.equal(numberToHangul.numberToHangulWithSpace(-12_345.678), "마이너스 일만 이천삼백사십오점 육칠팔")
        end)
    end)

    test.suite("numberToHangul.numberToHangulMixed", function()
        test.case("기본 변환", function()
            check.equal(numberToHangul.numberToHangulMixed(210_000), "21만")
            check.equal(numberToHangul.numberToHangulMixed(12_345), "1만2,345")
            check.equal(numberToHangul.numberToHangulMixed(123_456_780), "1억2,345만6,780")
        end)

        test.case("0 이상 10,000 미만인 경우", function()
            check.equal(numberToHangul.numberToHangulMixed(0), "0")
            check.equal(numberToHangul.numberToHangulMixed(1), "1")
            check.equal(numberToHangul.numberToHangulMixed(2), "2")
            check.equal(numberToHangul.numberToHangulMixed(3), "3")
            check.equal(numberToHangul.numberToHangulMixed(4), "4")
            check.equal(numberToHangul.numberToHangulMixed(5), "5")
            check.equal(numberToHangul.numberToHangulMixed(6), "6")
            check.equal(numberToHangul.numberToHangulMixed(7), "7")
            check.equal(numberToHangul.numberToHangulMixed(8), "8")
            check.equal(numberToHangul.numberToHangulMixed(9), "9")
            check.equal(numberToHangul.numberToHangulMixed(10), "10")
            check.equal(numberToHangul.numberToHangulMixed(11), "11")
            check.equal(numberToHangul.numberToHangulMixed(20), "20")
            check.equal(numberToHangul.numberToHangulMixed(30), "30")
            check.equal(numberToHangul.numberToHangulMixed(100), "100")
            check.equal(numberToHangul.numberToHangulMixed(101), "101")
            check.equal(numberToHangul.numberToHangulMixed(110), "110")
            check.equal(numberToHangul.numberToHangulMixed(200), "200")
            check.equal(numberToHangul.numberToHangulMixed(300), "300")
            check.equal(numberToHangul.numberToHangulMixed(1_000), "1,000")
            check.equal(numberToHangul.numberToHangulMixed(1_001), "1,001")
            check.equal(numberToHangul.numberToHangulMixed(1_100), "1,100")
            check.equal(numberToHangul.numberToHangulMixed(1_200), "1,200")
            check.equal(numberToHangul.numberToHangulMixed(1_234), "1,234")
            check.equal(numberToHangul.numberToHangulMixed(9_999), "9,999")
        end)

        test.case("음수", function()
            check.equal(numberToHangul.numberToHangulMixed(-210_000), "-21만")
            check.equal(numberToHangul.numberToHangulMixed(-12_345), "-1만2,345")
            check.equal(numberToHangul.numberToHangulMixed(-123_456_780), "-1억2,345만6,780")
        end)

        test.case("Infinity", function()
            check.equal(numberToHangul.numberToHangulMixed(math.huge), "무한대")
            check.equal(numberToHangul.numberToHangulMixed(-math.huge), "-무한대")
        end)

        test.case("소수", function()
            check.equal(numberToHangul.numberToHangulMixed(0.1), "0.1")
            check.equal(numberToHangul.numberToHangulMixed(12_345.678), "1만2,345.678")
            check.equal(numberToHangul.numberToHangulMixed(-0.1), "-0.1")
            check.equal(numberToHangul.numberToHangulMixed(-12_345.678), "-1만2,345.678")
        end)

        test.case("유효하지 않은 입력에 대한 오류 처리", function()
            check.should_error(function()
                return numberToHangul.numberToHangulMixed(0 / 0)
            end)

            check.should_error(function()
                return numberToHangul.numberToHangulMixed(("123" :: any) :: number)
            end)
        end)
    end)
end